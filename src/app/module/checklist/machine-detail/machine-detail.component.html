<div class="go-back text-sm">
    <p (click)="goBack()"><i class="icon icon-undo-2"></i> ย้อนกลับ</p>
</div>

<p-fieldset >
    <ng-template #header>
        <div class="flex items-center gap-2">
            <img src="assets/images/engineerings.png" style="width: 24px; height: 24px;" />
            <span class="font-bold text-sm">{{ machineResponse?.machine?.machineName }}</span>
        </div>
    </ng-template>
    <div>
        <form class="machine-detail">
          <p-iftalabel class="text-xs mb-2">
            <input pInputText id="model" [value]="machineResponse?.machine?.machineModel" autocomplete="off" class="w-full text-xs" disabled/>
            <label for="model">รุ่น</label>
          </p-iftalabel>
          <p-iftalabel class="text-xs mb-2">
            <input pInputText id="code" [value]="machineResponse?.machine?.machineCode" autocomplete="off" class="w-full text-xs" disabled/>
            <label for="code">รหัส</label>
          </p-iftalabel>
          <p-iftalabel class="text-xs mb-2">
            <input pInputText id="number" [value]="machineResponse?.machine?.machineNumber" autocomplete="off" class="w-full text-xs" disabled/>
            <label for="number">หมายเลขเครื่อง</label>
          </p-iftalabel>
          <p-iftalabel class="text-xs mb-2">
              <input pInputText id="responsible" [value]="machineResponse?.machine?.responsiblePersonName" autocomplete="off" class="w-full text-xs" disabled/>
            <label for="responsible">ผู้รับผิดชอบ</label>
          </p-iftalabel>
          <p-iftalabel class="text-xs mb-2">
              <input pInputText id="superviser" [value]="machineResponse?.machine?.supervisorName" autocomplete="off" class="w-full text-xs" disabled/>
            <label for="superviser">หัวหน้างาน</label>
          </p-iftalabel>
          <p-iftalabel class="text-xs mb-2">
              <input pInputText id="manager" [value]="machineResponse?.machine?.managerName" autocomplete="off" class="w-full text-xs" disabled/>
            <label for="manager">ผู้จัดการฝ่าย</label>
          </p-iftalabel>
          <p-iftalabel class="text-xs mb-2">
              <input pInputText id="frequency" [value]="machineResponse?.machine?.frequency" autocomplete="off" class="w-full text-xs" disabled/>
            <label for="frequency">ความถี่ในการตรวจ</label>
          </p-iftalabel>
          <p-iftalabel class="text-xs mb-2">
              <input pInputText id="status" [value]="machineResponse?.machine?.machineStatus" autocomplete="off" class="w-full text-xs" disabled/>
            <label for="status">สถานะ</label>
          </p-iftalabel>
          <p-iftalabel class="text-xs mb-2">
              <input pInputText id="type" [value]="machineResponse?.machine?.machineTypeName" autocomplete="off" class="w-full text-xs" disabled/>
            <label for="type">ประเภทเครื่อง</label>
          </p-iftalabel>
          <div class="flex justify-content-center flex-wrap">
            <div class="flex align-items-center justify-content-center">
              <img 
              [src]="machineResponse?.machine?.image ? machineResponse?.machine?.image : 'assets/images/default-machine.jpg'" 
              style="width: 100%;" 
              [alt]="machineResponse?.machine?.machineName + ' image'"
              />
            </div>    
          </div>
          
          <div class="flex justify-content-center flex-wrap">
            <div class="flex align-items-center justify-content-center">
              <div *ngIf="qrCodeImage" class="machine-image">
                <img [src]="qrCodeImage" alt="Machine QR Code">
              </div>
            </div>    
          </div>
          <div class="flex justify-content-center flex-wrap">
            <div class="flex align-items-center justify-content-center">
              <p-button severity="secondary" pButton pRipple class="p-0" (click)="downloadQRCode()"><span class="text-xs font-bold">ดาวน์โหลด</span></p-button>
            </div>    
          </div>
        </form>
    </div>
</p-fieldset>